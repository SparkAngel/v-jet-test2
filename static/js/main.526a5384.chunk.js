(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(14),l=a.n(r),i=a(5),o=a(16),s=function(){return c.a.createElement("div",{className:"error404"},c.a.createElement("h1",{className:"error404__h1"},"Page not found"),c.a.createElement(i.c,{to:"/",exact:!0,className:"error404__navlink"},"Click to  HomePage"))},m=a(20),u=a(21),d=a(25),v=a(22),p=a(26),E=a(18),b=a.n(E),h=function(){return c.a.createElement("header",{className:"header"},c.a.createElement("nav",{className:"header-nav"},c.a.createElement(i.b,{to:"/",className:"header-nav_a"},"Home"),c.a.createElement(i.b,{to:"/movies"},"Movies")))},f=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(c)))).state={movies:[],selectValue:"",sortMov:[]},a.handleInputChange=function(e){var t=e.target.value;a.filterByInput(t)},a.filterByInput=function(e){e.length>0?a.setState(function(t){return{sortMov:t.movies.filter(function(t){return t.name.includes(e)})}}):a.setState(function(e){return{sortMov:e.movies}})},a.handleSelectChange=function(e){var t=e.target.value;a.filterBySelect(t)},a.filterBySelect=function(e){"default"!==e?a.setState(function(t){return{sortMov:t.movies.filter(function(t){return t.genre_id.includes(Number(e))})}}):a.setState(function(e){return{sortMov:e.movies}})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("https://cinema-api-test.herokuapp.com/movies").then(function(t){e.setState({movies:t.data,sortMov:t.data})})}},{key:"render",value:function(){var e=this.state.sortMov;return c.a.createElement(c.a.Fragment,null,c.a.createElement(h,null),c.a.createElement("main",null,c.a.createElement("div",{className:"wrap-movies"},c.a.createElement("div",{className:"main-search"},c.a.createElement("input",{className:"form-control",placeholder:"Search film",type:"text",onChange:this.handleInputChange}),c.a.createElement("select",{className:"custom-select",onChange:this.handleSelectChange},c.a.createElement("option",{value:"default"},"Choose genres"),c.a.createElement("option",{value:"0"},"Action"),c.a.createElement("option",{value:"1"},"Adventures"),c.a.createElement("option",{value:"2"},"Comedy"),c.a.createElement("option",{value:"3"},"Drama"),c.a.createElement("option",{value:"4"},"Horror"),c.a.createElement("option",{value:"5"},"Westerns"))),e.map(function(e){return c.a.createElement("div",{key:e._id,className:"movie-cards"},c.a.createElement(i.b,{to:"/movies/".concat(e._id),className:"cards-card_tittle"},e.name),c.a.createElement(i.b,{to:"/movies/".concat(e._id)},c.a.createElement("img",{className:"cards-card_img",src:e.pictureLink,alt:"logo"})))}))))}}]),t}(n.Component),g=a(9),_=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(c)))).state={sesmovies:[],allMov:[],curData:[]},a.filter=function(){var e=a.state.sesmovies,t=a.state.allMov,n=[];for(var c in e)for(var r in t)if(e[c].movie_id==t[r]._id){var l=e[c].startTime.slice(11,-8);n.push(Object.assign(e[c],t[r],{truetime:l}))}return a.setState({curData:n})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([fetch("https://cinema-api-test.herokuapp.com/movies"),fetch("https://cinema-api-test.herokuapp.com/movieShows")]).then(function(e){var t=Object(g.a)(e,2),a=t[0],n=t[1];return Promise.all([a.json(),n.json()])}).then(function(t){var a=Object(g.a)(t,2),n=a[0],c=a[1];return e.setState({allMov:n,sesmovies:c},function(){return e.filter()})})}},{key:"render",value:function(){var e=this.state.curData;return c.a.createElement(c.a.Fragment,null,c.a.createElement(h,null),c.a.createElement("main",null,c.a.createElement("div",{className:"main-container"},c.a.createElement("div",{className:"container-cards"},e.map(function(e){return c.a.createElement("div",{key:e._id,className:"cards-card"},c.a.createElement(i.b,{to:"/movies/".concat(e._id)},c.a.createElement("img",{className:"cards-card_img",src:e.pictureLink,alt:"logo"})),c.a.createElement("div",{className:"cards-card_tittle"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: ",e.name),c.a.createElement("div",{className:"cards-card_tittle"},"\u0426\u0435\u043d\u0430: ",e.ticketPrice),c.a.createElement("div",{className:"cards-card_tittle"},"\u0412\u0440\u0435\u043c\u044f \u0441\u0435\u0430\u043d\u0441\u0430: ",e.truetime),c.a.createElement(i.b,{to:"/buy/".concat(e._id)},c.a.createElement("button",{className:"btn btn-primary btn-sm",type:"button"},"\u041a\u0423\u041f\u0418\u0422\u042c \u0411\u0418\u041b\u0415\u0422")),c.a.createElement(i.b,{to:"/movies/".concat(e._id)},c.a.createElement("button",{className:"btn btn-secondary btn-sm",type:"button"},"\u041e \u0424\u0418\u041b\u042c\u041c\u0415")))})))))}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(c)))).state={movie:[]},a.lol=function(){for(var e=a.state.movie,t=0;t<e.genre_id.length;t+=1)0===e.genre_id[t]?a.setState(Object.assign(e,{genre0:"Action"})):1===e.genre_id[t]?a.setState(Object.assign(e,{genre1:"Adventures"})):2===e.genre_id[t]?a.setState(Object.assign(e,{genre2:"Comedy"})):3===e.genre_id[t]?a.setState(Object.assign(e,{genre3:"Drama"})):4===e.genre_id[t]?a.setState(Object.assign(e,{genre4:"Horror"})):a.setState(Object.assign(e,{genre5:"Westerns"}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.moviesId;b.a.get("https://cinema-api-test.herokuapp.com/movies?movie_id=".concat(t)).then(function(t){e.setState({movie:t.data}),e.lol()})}},{key:"render",value:function(){var e=this.state.movie;return c.a.createElement(c.a.Fragment,null,c.a.createElement(h,null),c.a.createElement("main",null,c.a.createElement("div",{className:"wrap-movie"},c.a.createElement("img",{className:"movie-img",src:e.pictureLink,alt:"logo"}),c.a.createElement("div",{className:"movie-about"},c.a.createElement("p",{className:"cards-card_tittle movie-about"},"\u0416\u0430\u043d\u0440:"),e.genre0?c.a.createElement("p",{className:"cards-card_tittle movie-about"},e.genre0):"",e.genre1?c.a.createElement("p",{className:"cards-card_tittle movie-about"},e.genre1):"",e.genre2?c.a.createElement("p",{className:"cards-card_tittle movie-about"},e.genre2):"",e.genre3?c.a.createElement("p",{className:"cards-card_tittle movie-about"},e.genre3):"",e.genre4?c.a.createElement("p",{className:"cards-card_tittle movie-about"},e.genre4):"",e.genre5?c.a.createElement("p",{className:"cards-card_tittle movie-about"},e.genre5):""),c.a.createElement("div",{className:"movie-about cards-card_tittle"},c.a.createElement("p",{className:"movie-about cards-card_tittle"},"\u0424\u0438\u043b\u044c\u043c:"),c.a.createElement("p",{className:"movie-about cards-card_tittle"},e.name)),c.a.createElement("div",null,c.a.createElement("p",{className:"cards-card_tittle"},"\u041e \u0444\u0438\u043b\u044c\u043c\u0435:"),c.a.createElement("p",{className:"cards-card_tittle"},e.description)))))}}]),t}(n.Component),j=a(15),O=a(35),y=(a(86),function(){var e=Object(n.useState)(!0),t=Object(g.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)([]),i=Object(g.a)(l,2),s=i[0],m=i[1],u=Object(n.useState)([]),d=Object(g.a)(u,2),v=d[0],p=d[1],E=Object(n.useState)({}),f=Object(g.a)(E,2),_=f[0],N=f[1],y=Object(n.useState)(""),S=Object(g.a)(y,2),k=S[0],w=S[1],C=Object(n.useState)(""),M=Object(g.a)(C,2),D=M[0],I=M[1],A=Object(n.useState)(""),P=Object(g.a)(A,2),x=P[0],B=P[1],F=Object(n.useState)(!1),H=Object(g.a)(F,2),T=H[0],L=H[1],J=Object(o.f)().moviesId;Object(n.useEffect)(function(){L(!1),Promise.all([b.a.get("https://cinema-api-test.herokuapp.com/movieShows?movie_id=".concat(J)),b.a.get("https://cinema-api-test.herokuapp.com/movies?movie_id=".concat(J))]).then(function(e){var t=Object(g.a)(e,2),a=t[0],n=t[1];p(a.data),m(n.data),r(!1)})},[]);var W=function(){return L(!1)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(h,null),c.a.createElement("main",null,c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(j.a,{show:T,onHide:W},c.a.createElement(j.a.Header,{closeButton:!0},c.a.createElement(j.a.Title,null,"\u0412\u044b \u043a\u0443\u043f\u0438\u043b\u0438")),c.a.createElement(j.a.Body,null,c.a.createElement(j.a.Title,null,"\u0420\u044f\u0434:",k+1),c.a.createElement(j.a.Title,null,"\u041c\u0435\u0441\u0442\u043e:",D+1),c.a.createElement(j.a.Title,null,"\u041a\u043e\u0434 \u0431\u0438\u043b\u0435\u0442\u0430:",x)),c.a.createElement(j.a.Footer,null,c.a.createElement(O.a,{variant:"secondary",onClick:W},"Close"),c.a.createElement(O.a,{variant:"primary",onClick:W},"Ok")))),c.a.createElement("div",null,c.a.createElement("div",{className:"cards-card_tittle"},"\u0424\u0438\u043b\u044c\u043c:",s.name),c.a.createElement("img",{className:"movie-img",src:s.pictureLink,alt:"logo"})),!a&&v.places.map(function(e,t){return c.a.createElement("div",{className:"movie-row",key:Date.now()+Math.random()},c.a.createElement("p",{className:"cards-card_tittle"},"\u0420\u044f\u0434"),c.a.createElement("div",{className:"cards-card_tittle"},t+1),e.map(function(e){return c.a.createElement("div",{className:"movie-place",key:e._id},c.a.createElement("div",{className:"cards-card_tittle"},"Me\u0441\u0442\u043e:",e.position+1),c.a.createElement("button",{onClick:function(){var a,n;w(t),I(e.position),a=t,n=e.position,N({movieShow_id:J,row_id:a,place_position:n,isFree:!0}),fetch("https://cinema-api-test.herokuapp.com/bookingPlace",{method:"POST",body:JSON.stringify(_)}).then(function(e){return e.json()}).then(function(e){return B(e)}),L(!0)},type:"button",className:"btn btn-info",disabled:e.isFree},"\u041a\u0443\u043f\u0438\u0442\u044c"))}))}))))}),S=(a(104),function(){return c.a.createElement("div",{className:"App"},c.a.createElement(o.c,null,c.a.createElement(o.a,{path:"/",exact:!0,component:_}),c.a.createElement(o.a,{path:"/movies",exact:!0,component:f}),c.a.createElement(o.a,{path:"/movies/:moviesId",exact:!0,component:N}),c.a.createElement(o.a,{path:"/buy/:moviesId",exact:!0,component:y}),c.a.createElement(o.a,{path:"*",component:s})))});l.a.render(c.a.createElement(i.a,null,c.a.createElement(S,null)),document.getElementById("root"))},59:function(e,t,a){e.exports=a(105)}},[[59,1,2]]]);
//# sourceMappingURL=main.526a5384.chunk.js.map